##   线程和进程

#### 线程和进程的解释

对于操作系统来说，一个任务就是一个进程，例如打开一个浏览器进程，打开一个记事本就启动了记事本进程，打开了两个浏览器就启动了两个浏览器进程。

线程是最小的执行单元，而进程由至少一个线程组成。

#### 进程和线程的定义

进程：是执行中一段程序，即一旦程序被载入到内存中并准备执行，他就是一 个进程。进程是表示资源分配的概念，优势调度运行的基本单位 ，是系统中的并发执行单位。

线程：单个进程中每一个任务就是一个进程。线程是进程中执行运算最小的单位。


1.  **一个线程只能属于一个进程，但是一个进程可以拥有多个线程**。多线程处理就是在一个进程中同时处理多个任务。

2.  线程是一种轻量级的进程， 与进程相比，线程给操作系统带来侧创建、维护、和管理的负担要轻，意味着线程的代价或开销比较小。

3.  **线程没有地址空间，线程包含在进程的地址空间中**。线程上下文只包含一个堆栈、一个寄存器、一个优先权，线程在他的进程的文本片段中，**进程拥有的所有资源都属于线程。所有的线程共享进程的内存和资源。** 同一进程中的多个线程共享代码段（代码和常量）、数据段（全局变量和静态变量）、扩展段（堆存储），但是每个线程拥有自己的栈段， 寄存器的内容，栈段又叫运行时段，用来存放所有局部变量和临时变量。
4.  父和子进程使用进程间通信机制，同一进程的线程通过读取和写入数据到进程变量来通信。
    -  **子进程和父进程之间的关系**
        1.  父进程：指已创建一个或多个子进程的进程。
        2.  子进程：指的是由另一进程（对应称之为父进程）所创建的进程。子进程继承了对应的父进程的大部分属性。
        3.  关于资源：子进程得到的是除了代码段是与父进程共享的之外，其他所有的父进程的一个副本，子进程的所有资源都继承父进程，得到父进程的副本，二者并不共享地址空间。两个都是单独的进程，继承了之后就没有联系了，子进程单独运行。
5.  **进程内的任何线程都是相同级别的，都被看做是同位体。** 不管是哪个线程创建了哪一个线程，进程内的任何线程都可以销毁、挂起、恢复和更改其它线程的优先权。**线程也要对进程施加控制，进程中任何线程都可以通过销毁主线程来销毁进程，销毁主线程将导致该进程的销毁，对主线程的修改可能影响所有的线程。**
6.  子进程不对任何其他子进程施加控制，进程的线程可以对同一进程的其他进程施加控制。子进程不能对父进程施加控制，进程中所有线程都可以对主线施加控制。

相同点：
进程和线程都有ID/寄存器组、状态和优先权、信息块、创建后都可更改自己的属性， 都可与父进程共享资源、都不鞥直接访问其他无关进程或线程的资源。